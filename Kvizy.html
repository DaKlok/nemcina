<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nemƒçina Kv√≠zy</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f4f4f9;
        }

        #container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 90%;
            max-width: 500px;
        }

        /* ≈†t√Ωl pre v√Ωber kv√≠zu */
        #quizSelector {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            font-size: 1.1em;
            border-radius: 5px;
            border: 2px solid #007bff;
            background-color: #fff;
            cursor: pointer;
        }

        h1 {
            margin-top: 0;
        }

        #instructionText {
            color: #666;
            font-style: italic;
            margin-bottom: 20px;
        }

        #slovakWord {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #333;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #inputField {
            padding: 10px;
            font-size: 1.2em;
            width: 80%;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #checkButton {
            padding: 10px 20px;
            font-size: 1.2em;
            color: white;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
            max-width: 200px;
        }

        #checkButton:hover {
            background-color: #0056b3;
        }

        #message {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
            min-height: 30px;
        }
        
        #streakDisplay {
            margin-bottom: 15px;
            font-size: 1.1em;
            color: #555;
            font-weight: bold;
        }

        .correct { color: green; }
        .incorrect { color: red; }

        .button-container {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .secondary-button {
            padding: 8px 15px;
            font-size: 0.9em;
            color: #fff;
            background-color: #6c757d;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            flex: 1;
            transition: background-color 0.3s;
        }
        .secondary-button:hover { background-color: #5a6268; }

        #resetButton { background-color: #dc3545; }
        #resetButton:hover { background-color: #c82333; }

        /* Mod√°lne okno */
        .modal {
            display: none;
            position: fixed; 
            z-index: 1; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; 
            background-color: rgba(0,0,0,0.4); 
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 700px;
            border-radius: 10px;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        
        .modal-body {
            margin-top: 20px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .word-list { flex-basis: 48%; text-align: left; }
        .word-list ul { list-style-type: none; padding-left: 0; }
        .word-list li { padding: 5px; background-color: #f9f9f9; border-bottom: 1px solid #eee; }
        
        .close-button {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover { color: black; }

        /* Responsivita pre mobily */
        @media (max-width: 500px) {
            .modal-body { flex-direction: column; }
            .word-list { margin-bottom: 20px; }
        }

    </style>
</head>
<body>

    <div id="container">
        <select id="quizSelector"></select>

        <h1 id="quizTitle">N√°zov kv√≠zu</h1>
        <div id="streakDisplay">S√©ria: 0</div> 
        <p id="instructionText">In≈°trukcie...</p>
        
        <div id="slovakWord"></div>
        
        <input type="text" id="inputField" placeholder="Va≈°a odpoveƒè" autofocus>
        
        <button id="checkButton">Skontrolova≈•</button>
        
        <div id="message"></div>
        
        <div class="button-container">
            <button id="statusButton" class="secondary-button">Zobrazi≈• stav</button>
            <button id="resetButton" class="secondary-button">Resetova≈• kv√≠z</button>
        </div>
    </div>

    <div id="statusModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                 <h2>Stav kv√≠zu</h2>
                 <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <div id="guessedList" class="word-list"></div>
                <div id="remainingList" class="word-list"></div>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // 1. D√ÅTA KV√çZOV (TU PRID√ÅVA≈† NOV√â KV√çZY)
        // ==========================================
        const quizData = {
            "slovicka1": {
                title: "Slov√≠ƒçka 1",
                instruction: "Prelo≈æte slovo do nemƒçiny (pri podst.m. aj ƒçlen):",
                words: {
                    "hor√∫ƒçka": "das Fieber",
                    "denne": "t√§glich",
                    "me≈°kanie": "die Versp√§tung",
                    "sen": "der Traum",
                    "sn√≠va≈•": "Tr√§umen",
                    "cez pr√°zdniny":"in den Ferien",
                    "korculovat sa na lade":"Schlittschuh fahren",
                    "korculovat sa na kolieskovych korculiach":"Rollschuh fahren",
                    "sankovat sa":"rodeln",
                    "ponuka":"das Angebot",
                    "vybrat/zvolit si":"w√§hlen",
                    "oblast":"das Gebiet",
                    "milovnik":"der Liebhaber",
                    "poloha":"die Lage",
                    "lezenie":"klettern",
                    "vsade":"√ºberall",
                    "socha":"die Statue",
                    "volny cas":"die Freizeit",
                    "sloboda":"die Freiheit",
                    "dam to/stihnem to/zvladnem to!":"ich schaffe es",
                    "zazit":"erleben",
                    "casopis":"die Zeitschrift",
                    "noviny":"die Zeitung",
                    "dost":"genug",
                    "zem/podlaha":"der Boden",
                    "oblek":"der Anzug",
                    "plavky (zeny)":"der Badeanzug",
                    "plavky (muzi)":"die Badehose",
                    "som na cestach":"ich bin unterwegs",
                    "unaveny":"m√ºde",
                    "nalada":"die Laune",
                    "naladovy":"launisch",
                    "uz":"seit",
                    "vystava":"die Ausstellung",
                    "takmer":"fast",
                    "zucastnit sa":"teilnehmen",
                    "ozvat sa, prihlasit sa":"melden",
                    "pristav":"der Hafen",
                    "letisko":"der Flughafen",
                    "podujatie, udalost":"die Veranstaltung",
                    "doprava":"der Verkehr",
                    "zadarmo":"kostenlos",
                    "majstrovat":"basteln",
                    "dielna":"die Werkstatt",
                    "rozny":"verschieden",
                    "sutaz":"der Wettbewerb",
                    "konat sa":"stattfinden",
                    "podnikat":"unternehmen",
                    "tlaciaren":"der Drucker",
                    "vytlacit":"ausdrucken",
                    "zakaznik":"die Kunde",
                    "kolotoc":"der karussell",
                    "ubytovanie":"die Unterkunft",
                    "odcestovanie, odchod":"die Abfahrt",
                    "pricestovanie, prichod":"die Ankunft",
                    "povoleny":"erlaub",
                    "zakazany":"verboten",
                    "hviezda":"der Stern",
                    "vzdialeny":"entfernt",
                    "mozny":"m√∂glich",
                    "moznost":"die M√∂glichkeit",
                    "tocit, natacat":"drehen",
                    "volba,v√Ωber":"die Wahl",
                    "pritom, popritom":"dabei",
                    "setrit, sporit":"sparen",
                    "hranica":"die Grenze",
                    "prenocovat":"√ºbernachten",
                    "nahnevany zly":"b√∂se"
                }
            },
            "perfekt": {
                title: "Nepravideln√© sloves√° (Perfektum)",
                instruction: "Prelo≈æte form√°tom: 'er + hat/ist + sloveso v perfekte'",
                words: {
                    "piec≈•": "er hat gebacken",
                    "zaƒça≈•": "er hat begonnen",
                    "odboƒçi≈•": "er hat abgebogen",
                    "pon√∫ka≈•": "er hat angeboten",
                    "prosi≈•": "er hat gebeten",
                    "zosta≈•": "er ist geblieben",
                    "l√°ma≈•": "er hat gebrochen",
                    "odpor√∫ƒça≈•": "er hat empfohlen",
                    "jes≈•": "er hat gegessen",
                    "cestova≈•/jazdit": "er ist gefahren",
                    "pada≈•": "er ist gefallen",
                    "p√°ƒçi≈• sa": "er hat gefallen",
                    "chyta≈•": "er hat gefangen",
                    "zaƒça≈•": "er hat angefangen",
                    "n√°js≈•/pova≈æova≈•": "er hat gefunden",
                    "letie≈•": "er ist geflogen",
                    "tiec≈•": "er ist geflossen",
                    "≈æra≈•": "er hat gefressen",
                    "mrzn√∫≈•": "er ist gefroren",
                    "d√°va≈•": "er hat gegeben",
                    "√≠s≈•": "er ist gegangen",
                    "vyhra≈•": "er hat gewonnen",
                    "polieva≈•": "er hat gegossen",
                    "dr≈æa≈•": "er hat gehalten",
                    "vysie≈•": "er hat gehangen",
                    "volat sa": "er hat geheissen",
                    "pomahat": "er hat geholfen",
                    "zniet, zvonit": "er hat geklungen",
                    "prist": "er ist gekommen",
                    "dostat": "er hat bekommen",
                    "pozyvat": "er hat eingeladen",
                    "nechat, ponechat": "er hat gelassen",
                    "opustit": "er hat verlassen",
                    "bezat": "er ist gelaufen",
                    "citat": "er hat gelesen",
                    "lezat": "er hat gelegen",
                    "klamat": "er hat gelogen",
                    "merat": "er hat gemessen",
                    "vziat": "er hat genommen",
                    "radit": "er hat geraten",
                    "jazdit na koni": "er ist geritten",
                    "kricat": "er hat gerufen",
                    "zavolat": "er hat angerufen",
                    "spa≈•": "er hat geschlafen",
                    "zaspa≈•": "er ist eingeschlafen",
                    "bi≈•": "er hat geschlagen",
                    "zatvorit": "er hat geschlossen",
                    "rezat": "er hat geschnitten",
                    "pisat": "er hat geschrieben",
                    "plavat": "er ist geschwommen",
                    "pozerat": "er hat gesehen",
                    "pozerat TV": "er hat ferngesehen",
                    "spievat": "er hat gesungen",
                    "sediet": "er hat gesessen",
                    "hovorit": "er hat gesprochen",
                    "skakat": "er ist gesprungen",
                    "st√°≈•": "er hat gestanden",
                    "vst√°va≈•": "er ist aufgestanden",
                    "rozumie≈•": "er hat verstanden",
                    "st√∫pa≈•": "er ist gestiegen",
                    "nastupit": "er ist eingestiegen",
                    "vystupit": "er ist ausgestiegen",
                    "prestupit": "er ist umgestiegen",
                    "zomriet": "er ist gestorben",
                    "hadat sa": "er hat gestritten",
                    "nosit": "er hat getragen",
                    "stretnut": "er hat getroffen",
                    "pit": "er hat getrunken",
                    "zabudnut": "er hat vergessen",
                    "stratit": "er hat verloren",
                    "rast": "er ist gewachsen",
                    "umyvat sa": "er hat gewaschen",
                    "hadzat": "er hat geworfen",
                    "tahat": "er hat gezogen",
                    "obliect sa": "er hat sich angezogen",
                    "vyzliect sa": "er hat sich ausgezogen",
                    "prestahovat sa": "er ist umgezogen",
                    "prezliect sa": "er hat sich umgezogen"
                }
            }
            // SEM VLO≈ΩI≈§ NOV√ù KV√çZ (ƒçiarka hore na konci z√°tvorky a nov√Ω blok)
        };

        // ==========================================
        // 2. LOGIKA APLIK√ÅCIE
        // ==========================================
        
        let currentVocabulary = {};
        let remainingWords = [];
        let guessedWords = [];
        let currentWord; 
        let currentStreak = 0;

        // Elementy
        const quizSelector = document.getElementById('quizSelector');
        const quizTitle = document.getElementById('quizTitle');
        const instructionText = document.getElementById('instructionText');
        const slovakWordElement = document.getElementById('slovakWord');
        const inputField = document.getElementById('inputField');
        const checkButton = document.getElementById('checkButton');
        const messageElement = document.getElementById('message');
        const streakDisplay = document.getElementById('streakDisplay');
        const resetButton = document.getElementById('resetButton');
        const statusButton = document.getElementById('statusButton');
        const statusModal = document.getElementById('statusModal');
        const closeModal = document.getElementsByClassName('close-button')[0];
        const guessedListElement = document.getElementById('guessedList');
        const remainingListElement = document.getElementById('remainingList');

        // Inicializ√°cia dropdown menu
        function initQuizSelector() {
            for (const key in quizData) {
                const option = document.createElement('option');
                option.value = key;
                option.textContent = quizData[key].title;
                quizSelector.appendChild(option);
            }
            // Nastavenie prv√©ho kv√≠zu ako predvolen√©ho
            quizSelector.addEventListener('change', (e) => {
                loadQuiz(e.target.value);
            });
            
            // Naƒç√≠tanie prv√©ho kv√≠zu
            if (Object.keys(quizData).length > 0) {
                loadQuiz(Object.keys(quizData)[0]);
            }
        }

        // Naƒç√≠tanie konkr√©tneho kv√≠zu
        function loadQuiz(quizKey) {
            const selectedQuiz = quizData[quizKey];
            
            // Nastavenie textov
            quizTitle.textContent = selectedQuiz.title;
            instructionText.textContent = selectedQuiz.instruction;
            
            // Naƒç√≠tanie d√°t
            currentVocabulary = selectedQuiz.words;
            
            // Reset hry
            resetGame();
        }

        function updateStreakDisplay() {
            streakDisplay.textContent = `S√©ria: ${currentStreak}`;
        }

        function resetGame() {
            remainingWords = Object.keys(currentVocabulary);
            guessedWords = [];
            currentStreak = 0;
            updateStreakDisplay();
            
            inputField.style.display = 'block';
            checkButton.style.display = 'inline-block';
            checkButton.textContent = 'Skontrolova≈•';
            
            messageElement.textContent = '';
            chooseNewWord();
        }

        function chooseNewWord() {
            if (remainingWords.length === 0) {
                slovakWordElement.textContent = 'üéâ Hotovo!';
                messageElement.textContent = 'V≈°etky slov√° uh√°dnut√©! Vyberte si in√Ω kv√≠z alebo resetujte.';
                messageElement.className = 'correct';
                inputField.style.display = 'none';
                checkButton.style.display = 'none';
                currentWord = null;
                return;
            }

            const randomIndex = Math.floor(Math.random() * remainingWords.length);
            currentWord = remainingWords[randomIndex];
            
            slovakWordElement.textContent = currentWord;
            
            inputField.value = '';
            messageElement.textContent = '';
            inputField.focus(); 
            checkButton.textContent = 'Skontrolova≈•';
            checkButton.onclick = checkAnswer; 
        }

        function checkAnswer() {
            if (!currentWord) return; 

            const correctAnswer = currentVocabulary[currentWord].trim().toLowerCase();
            const userAnswer = inputField.value.trim().toLowerCase();

            if (userAnswer === correctAnswer) {
                currentStreak++; 
                updateStreakDisplay(); 

                messageElement.textContent = '‚úîÔ∏è Spr√°vne! Kliknite na ƒéalej.';
                messageElement.className = 'correct';
                
                guessedWords.push(currentWord);
                remainingWords = remainingWords.filter(word => word !== currentWord);
                
                checkButton.textContent = 'ƒéalej';
                checkButton.onclick = chooseNewWord; 
            } else {
                currentStreak = 0; 
                updateStreakDisplay(); 

                messageElement.innerHTML = `‚ùå Nespr√°vne.<br>Spr√°vne je: <span style="font-style: italic; color: #000;">${currentVocabulary[currentWord]}</span>`;
                messageElement.className = 'incorrect';
                
                checkButton.textContent = 'ƒéalej';
                checkButton.onclick = chooseNewWord;
            }
        }
        
        function showStatusModal() {
            guessedListElement.innerHTML = '<h3>U≈æ vie≈°:</h3>';
            remainingListElement.innerHTML = '<h3>Zost√°va:</h3>';

            const guessedUl = document.createElement('ul');
            if (guessedWords.length > 0) {
                guessedWords.forEach(word => {
                    const li = document.createElement('li');
                    li.textContent = `${word} = ${currentVocabulary[word]}`;
                    guessedUl.appendChild(li);
                });
            } else {
                guessedUl.innerHTML = '<p>Zatiaƒæ ≈æiadne.</p>';
            }
            guessedListElement.appendChild(guessedUl);
            
            const remainingUl = document.createElement('ul');
            if (remainingWords.length > 0) {
                 remainingWords.forEach(word => {
                    const li = document.createElement('li');
                    li.textContent = word;
                    remainingUl.appendChild(li);
                });
            } else {
                 remainingUl.innerHTML = '<p>V≈°etko uh√°dnut√©!</p>';
            }
            remainingListElement.appendChild(remainingUl);

            statusModal.style.display = "block";
        }

        function hideStatusModal() {
            statusModal.style.display = "none";
        }
        
        // Event Listeners
        inputField.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                e.preventDefault(); 
                if (checkButton.textContent === 'Skontrolova≈•') {
                    checkAnswer();
                } else {
                    chooseNewWord();
                }
            }
        });
        
        resetButton.onclick = resetGame;
        statusButton.onclick = showStatusModal;
        closeModal.onclick = hideStatusModal;
        window.onclick = function(event) {
            if (event.target == statusModal) {
                hideStatusModal();
            }
        }

        // Spustenie
        document.addEventListener('DOMContentLoaded', initQuizSelector);

    </script>
</body>
</html>